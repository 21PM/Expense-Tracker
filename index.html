<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js" defer></script>    -->
    
    
</head>
<body>
        <!-- <h1>Expense Tracker</h1> -->

        <div id="top">


            <!--  Left side Section of webpage  -->
            <div id="profile">
                
                <div id="Profile-name">
                <img src="image1.png" alt="profile_Image" id="profile_Image" width="50px" height="50px" style="border-radius: 50px;"><span>Paras More</span>
                
                </div>
                
                <ul id="listitems">


                    <!-- <h1>You can Calculate and Pay your tax by clicking on below button</h1> -->
                    <button ID="cal-pay-btn">CALCULATE & PAY TAX</button>
    

                </ul>



                <div id="tax_out_contianer">
                    <span id="tax_close_btn">X</span>
                    <!-- <i class="fa-solid fa-xmark"></i> -->
                    <table>
                        <thead>
                            <tr>
                                <th>Total Income (p.a.)</th>
                                <th>Old Regime</th>
                                <th>New Regime</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Upto Rs. 2,50,000</td>
                                <td>NIL</td>
                                <td>NIL</td>
                            </tr>
                            <tr>
                                <td>From Rs. 2,50,001 to Rs. 5,00,000</td>
                                <td>5%</td>
                                <td>5%</td>
                            </tr>
                            <tr>
                                <td>From Rs. 5,00,001 to Rs. 7,50,000</td>
                                <td>20%</td>
                                <td>10%</td>
                            </tr>
                            <tr>
                                <td>From Rs. 7,50,001 to Rs. 10,00,000</td>
                                <td>20%</td>
                                <td>15%</td>
                            </tr>
                            <tr>
                                <td>From Rs. 10,00,001 to Rs. 12,50,000</td>
                                <td>30%</td>
                                <td>20%</td>
                            </tr>
                            <tr>
                                <td>From Rs. 12,50,001 to Rs. 15,00,000</td>
                                <td>30%</td>
                                <td>25%</td>
                            </tr>
                            <tr>
                                <td>Above Rs. 15,00,000</td>
                                <td>30%</td>
                                <td>30%</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="income-section">
                        <label for="income">Enter your annual income:</label>
                        <input type="number" id="income" placeholder="0">
                        <button onclick="calculateTax()" id="CalBtn">Calculate Tax</button>
                        <p id="tax-output"></p>

                        <button id="rzp-button1">Pay</button>   
                    </div>

                    

                    
                </div>

            </div>


            <!-- This is right side section of webpage  -->

            <div id="dashboard">
                <div id="dashborad_head_div">
                <span><h1 style="margin-left: 50px; margin-top: 20px;">Dashboard</h1></span>
                <input type="text" value="Search" id="search_field">
                </div>


                <div id="Top_Outer_Div">
                    
                    <div id="Top_Outer_Div_child1">

                        <div id="overview_div">
                            <h4>OverView</h4>

                            <div id="valuesDiv">
                                

                                    <div id="Total_Sal_div">
                                    <span class="Total_salary"><p id="Total_salary">00</p></span>
                                    <h5>Total Income</h5>
                                </div>
                                     
                                <div id="Total_Exp_div">
                                    <span class="You_Owe"><p id="You_Owe">00</p></span>
                                    <h5>Total Expenses</h5>
                                </div>

                                <div id="Total_Bal_div">    
                                    <span class="You_get_back"><p id="You_get_back">00</p></span>
                                    <h5>Balance Amount</h5>
                                </div>



                            </div>

                        </div>

                        <!-- *************************** Chart Container ************************* -->

                        <div id="expenses_chart_div">

                            <h2>Chart</h2>
                            <div id="chart_div">
                                <canvas id="myChart"></canvas>
                               
                            </div>
                              
                           
                        </div>

                    </div>

                    <div id="Top_Outer_Div_child2">

                        <div id="activites_div">

                            <h2>Recent Transaction</h2>

                            <div class= "Transaction_history" >

                                <!-- <h3>Grocery</h3> <span>100</span>
                                <span class="material-symbols-outlined" id="deleteBtn">delete </span> -->
                                
                            </div>
                            
                           
                        </div>
                        <!-- <button id="dwndbtn">Download PDF</button> -->
                    </div>


                </div>




                <div id="Bottom_Outer_Div">

                    <div id="Add_Transaction_Div">
                        <h2>Add Transaction</h2>


                        <label for="category">Select Transaction Category:</label>
                        <select name="category" id="category">
                          <option  value="" selected id="default">Please select an option</option>
                          <option value="income" class="income" id="income">Income</option>
                          <option value="expenses" class="expenses" id="expenses">Expenses</option>
                        </select>
                        <br>
                        <br>

                    <div id="inputdiv">

                    <div>

                        <label for="name">Title :</label> 
                        <input type="text" id="name" value="" placeholder="Enter Transaction Title">
                        </div>
                       
                        <div>
                        <label for="amount">Amount :</label> 
                        <input type="number" id="amount" value="" pattern="[0-9]*" placeholder="Enter Amount">
                        </div>

                    </div>

                    <div id="btn_div">
                        <button id="Add_Button" value="submit">ADD</button>
                    </div>

                    </div>

                    <div id="bottom-outer-div2-Chatbot">

                        <div id="Chat-UI-DIV">

                            <!-- <span class="close-gemini-btn">X</span> -->
                            <span class="material-symbols-outlined">close </span>

                            <main id="main-Inside-bot">
                                <div class="msg-container">
                            
                                    
                                    <div class="bot-msg"><span class="span-bot-sms">Bot : Hello How I can assist you</span></div>
                                    <div class="user-quesion"><span class="span-user-quesion"></span></div>
                                    <div class="bot-answer"><span class="span-bot-answer"></span></div>
                                     
                                </div>      

                                
                                <div class="user-input-div-gemini">
                            
                                <input type="text" placeholder="Chat with our bot" class="user-input-gemini">
                                <button class="Search-gemini-btn">
                                    <span class="material-symbols-outlined">
                                    send
                                    </span></button>
                                </div>
                            
                            </main>

                        </div>


                        <div id="Ai-article">
                            <h1>You may take some finanical adviced from our chat bot</h1>

                        </div>

                        <div id="Chat-circle">
                            
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQe1QHu6nLP5m6Dsra7PzxQ5rYjRx4U2axIIjCUyaHy7Q&s?" alt="Chat_bot_image" id="Bot-image"  style="width: 100px; height: 100px; border-radius: 50%; margin-top: 70%;" />
                        
                        </div>

                    </div>

                </div>
            </div>

           



        </div>


         

  

<!-- <script defer src="pdf.js"></script>   -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<script type="importmap">
    {
      "imports": {
        "@google/generative-ai": "https://esm.run/@google/generative-ai"
      }
    }
  </script>

  <script type="module">

    var botMSG = document.querySelector(".bot-msg");
    var UserInput =  document.querySelector('.user-input-gemini');
    var Search_gemini_btn =  document.querySelector(".Search-gemini-btn");
    // var BotAnswer = document.querySelector(".bot-answer");
    // var UserQuestion =  document.querySelector(".user-quesion");
    var msg_container =  document.querySelector(".msg-container");
    
   

    Search_gemini_btn.addEventListener('click',run)

  

   import { GoogleGenerativeAI } from "@google/generative-ai";

   const API_KEY = 'AIzaSyBj-FxeWJr7cK14jVyJPyoxsi69LkfWO58';

   // Access your API key (see "Set up your API key" above)
  const genAI = new GoogleGenerativeAI(API_KEY);

  async function run() {

    alert("Please wait till bot respond you");
    

    var BotAnswer = document.querySelector(".bot-answer");
    var UserQuestion =  document.querySelector(".user-quesion");

  // For text-only input, use the gemini-pro model
  const model = genAI.getGenerativeModel({ model: "gemini-pro"});

  const prompt = UserInput.value;

  const result = await model.generateContent(prompt);
  const response = await result.response;
  const text = response.text();

  


  BotAnswer.innerText =  text;
    console.log(text);
    
    UserQuestion.innerText =  UserInput.value;

    if(UserInput.value != ""){
        BotAnswer.classList.toggle('span-bot-answer');
        UserQuestion.classList.toggle('span-user-quesion');
    }


    UserInput.value = "";
}

  </script>





<!--*************************** //Payment Integration *****************************-->




<script src="https://checkout.razorpay.com/v1/checkout.js"></script>


<script src="script.js"></script>


<script>
    //Don't delete this script tag
</script>

   
</body>
</html>